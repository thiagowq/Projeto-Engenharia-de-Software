<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../style.css">
    <title>Relat√≥rio de Produto por Estoque - SGSupermercado</title>
</head>
<body>

        <header class="navbar">
            <div class="container">
                <!-- Voltar para o menu principal -->
                <a href="../../index.html" class="logo">SG<span>Supermercado</span></a>

                <nav class="nav-links">
                    <!-- Links para as se√ß√µes do index -->
                    <a href="../../index.html#clientes">Clientes</a>
                    <a href="../../index.html#produtos">Produtos</a>
                    <a href="../../index.html#funcionarios">Funcion√°rios</a>

                    <!-- Link pro RELAT√ìRIO de Fornecedores -->
                    <a href="../Relatorio de fornecedor/relatorio_fornecedores.html">Fornecedores</a>

                    <!-- Estamos NO relat√≥rio de estoque, ent√£o deixo destacado -->
                    <a href="./relatorio_estoque.html"
                    style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color);">
                    Estoque
                    </a>

                    <a href="../../index.html#secoes">Se√ß√µes</a>
                </nav>
            </div>
        </header>


    <main class="content-page">
        <div class="container">
            
            <div class="breadcrumb">
                <a href="../../index.html">In√≠cio</a> / Relat√≥rio de Produto por Estoque
            </div>


            <h1 class="page-title">Relat√≥rio de Produto por Estoque</h1>
            
            <div class="main-content-area">
                
            <aside class="sidebar-menu">
                <!-- Consultar Estoque (CRUD) -->
                <a href="../../Release02/CrudEstoque/estoque.html" class="menu-item">
                    <span class="icon">üîç</span> Consultar Estoque
                </a>

                <!-- Estamos NESTE relat√≥rio -->
                <a href="./relatorio_estoque.html" class="menu-item active">
                    <span class="icon">üìä</span> <strong>Relat√≥rio por Estoque</strong>
                </a>

                <!-- Link para o RELAT√ìRIO DE FORNECEDORES -->
                <a href="../Relatorio de fornecedores/relatorio_fornecedores.html" class="menu-item">
                    <span class="icon">üìã</span> Relat√≥rio de Fornecedores
                </a>
            </aside>



                <section class="report-area">

                    <div class="card-report filters-card">
                        <h2>Filtros para Emiss√£o</h2>
                        <div class="form-grid">
                            
                            <div class="form-group">
                                <label for="produto">Produto *</label>
                                <input type="text" id="produto" placeholder="Nome ou C√≥digo do Produto">
                            </div>

                            <div class="form-group">
                                <label for="validade">Validade *</label>
                                <input type="date" id="validade">
                            </div>
                            
                            <div class="form-group">
                                <label for="secao">Se√ß√£o *</label>
                                <select id="secao">
                                    <option value="" selected>Todas as Se√ß√µes</option>
                                    <option value="limpeza">Limpeza</option>
                                    <option value="bebidas">Bebidas</option>
                                    <option value="mercearia">Mercearia</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="fornecedor">Fornecedor *</label>
                                <select id="fornecedor">
                                    <option value="" selected>Todos os Fornecedores</option>
                                    <option value="forn1">Alfa Suprimentos</option>
                                    <option value="forn2">Betha Distribuidora</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="quantidade">Qtd. M√≠nima em Estoque *</label>
                                <input type="number" id="quantidade" placeholder="Ex: 50">
                            </div>

                            <div class="form-group form-action">
                                <button id="emitirRelatorio" class="cta-button" disabled>Emitir Relat√≥rio</button>
                            </div>

                        </div>
                    </div>
                    
                    <div class="card-report results-card">
                        <h2>Resultados do Relat√≥rio</h2>

                        <div class="chart-container">
                            <h3>Gr√°fico: Produto vs. Quantidade em Estoque</h3>
                            <div class="bar-chart-placeholder">
                                <canvas id="estoqueChart"></canvas>
                            </div>
                            <p class="chart-note">Nota: Cada barra do gr√°fico √© interativa e detalha os dados do lote (Nota 01).</p>
                        </div>
                        
                        <hr class="separator">

                        <div class="table-container">
                            <h3>Detalhamento Tabulado por Se√ß√£o e Validade</h3>
                            
                            <div class="section-group">
                                <div class="section-header">
                                    &lt;&lt; Se√ß√£o de <span id="secao-nome">Limpeza</span> &gt;&gt;
                                </div>
                                <table class="report-table">
                                    <thead>
                                        <tr>
                                            <th>Produto</th>
                                            <th>Data de Validade</th>
                                            <th>Quantidade</th>
                                            <th>Valor Unit√°rio</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody-estoque">
                                        <!-- linhas ser√£o preenchidas via JS -->
                                    </tbody>
                                </table>
                                <div class="section-footer">
                                    <p>SubTotal Se√ß√£o (<span id="subtotal-qtd">0</span> unidades)</p>
                                    <p>SubTotal Se√ß√£o (valor): <span id="subtotal-valor">R$ 0,00</span></p>
                                </div>
                            </div>

                            <hr class="section-divider">

                            <div class="total-summary">
                                <h3>TOTAL GERAL (Montante do valor arrecadado em todas as se√ß√µes)</h3>
                                <p class="total-value" id="total-geral">R$ 0,00</p>
                            </div>


                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>¬© 2025 SGSupermercado. Todos os direitos reservados.</p>
            <p>Desenvolvido como projeto acad√™mico.</p>
        </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="./script_estoque.js"></script>
</body>
</html>

